<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>DETRAN | Consultar Prontuário na CNH</title>
  <link rel="stylesheet" href="\Users\anonymousof\Pictures\cnh_digital\static\styleValidador.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

 <style>

  body {
  font-family: Arial, sans-serif;
  background-color: #f2f2f2;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 1100px;
  margin: auto;
  background-color: #fff;
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  height: auto;
}

.header-box {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
  transform: translateX(95px); 
}

.header-box img {
  height: 50px;
  width: 60px;
  transform: translateX(-30px);
}

.header-text .title {
  font-size: 23px;
  font-weight: bold;
  color: #9bb835;
  margin-bottom: 5px;
  
}

.header-text .subtitle {
  font-size: 28px;
  color: #accc38;
}

.breadcrumb {
  font-size: 14px;
  color: #666;
  margin-bottom: 20px;
  background-color: #E9ECEF;
  padding: 15px 20px;
  border-radius: 6px;
}

.breadcrumb-link {
  color: #8FB019;
  text-decoration: none;
  transition: all 0.2s ease-in-out;
}

.breadcrumb-link:hover {
  text-decoration: underline;
  color: #8FB019;
}

.progress-bar {
  position: relative;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 650px;
  margin: 20px auto 0;
  transform: translateY(-50px);
}

.progress-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 2;
}

.step-label {
  font-size: 14px;
  color: #5f5f5f;
  margin-bottom: 40px;
  text-align: center;
  white-space: nowrap;
}

.progress-circle {
  width: 30px;
  height: 30px;
  background-color: #8FB019;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.inner-dot {
  width: 12px;
  height: 12px;
  background-color: #accc38;
  border-radius: 50%;
}

.progress-line {
  position: absolute;
  top: calc(100% - 19px);
  left: 50px;
  right: 90px;
  height: 9px;
  background-color: #8FB019;
  border-radius: 5px;
  z-index: 1;
}

.content {
  display: flex;
  gap: 10px;
  scale: 0.80;
  margin-top: -60px;
  margin-left: 50px;
}

.photo {
  flex: 1;
  max-width: 200px;
  text-align: center;
}

.foto-container {
  transform: translateX(-100px); /* ⬅️ move imagem + texto juntos */
  text-align: center;
}

.foto-container img {
  width: 80%;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.foto-container h5 {
  margin-top: 8px;
  font-weight: normal;
}

.info-table {
  flex: 2;
  width: 100%;
  border-collapse: collapse;
}

.info-table td {
  padding: 20px 30px;
  border-bottom: 1px solid #ddd;
}

.info-table td.label {
  font-weight: bold;
  color: #444;
  width: 30%;
}

.info-table td.value {
  color: #222;
  text-align: left;
}

.section-divider {
  border: none;
  border-top: 1px solid #ccc;
  margin-top: 0px;
  margin-bottom: 15px;
  width: 100%;
}

.linha-separacao {
  border: none;
  border-top: 1px solid #ccc;
  width: 70%;
  margin: 20px auto;
  opacity: 0.7;
}



.mensagem-verde {
  background-color: #d4edda;
  color: #155724;
  padding: 15px;
  border-radius: 6px;
  font-size: 15px;
  margin-top: 30px;
  margin-bottom: 15px;
  text-align: center;
  
}

.observacao {
  font-size: 14px;
  color: #333;
  margin-bottom: 25px;
  line-height: 1.5;
  text-align: justify;
}

.qr-container {
  text-align: center;
  margin-bottom: 20px;
}

.qr-container img {
  width: 180px;
  height: auto;
  border: 2px solid #ccc;
  border-radius: 8px;
}
.qr-container h6 {
  font-weight: normal; /* ⬅️ remove o negrito */
  font-size: 0px;
  margin-bottom: 10px;
}
.chave-consulta {
  font-size: 11px; /* ⬅️ bem pequeno */
  font-weight: normal;
  color: #555;
  margin-bottom: 8px;
  text-align: center;
}



.mensagem-amarela {
  background-color: #fff3cd;
  color: #856404;
  padding: 15px;
  border-radius: 6px;
  font-size: 15px;
  margin-bottom: 20px;
  text-align: center;
  
}

.data-consulta {
  text-align: center;
  font-size: 14px;
  color: #555;
  margin-bottom: 30px;
}

.botoes-final {
  display: flex;
  justify-content: space-between; /* ⬅️ separa os botões nas bordas */
  width: 100%;                    /* ⬅️ ocupa toda a largura disponível */
  margin-top: 30px;
  margin-bottom: 40px;
}

.btn-voltar,
.btn-imprimir {
  background-color: #8FB019;
  color: white;
  border: none;
  padding: 10px 25px;
  font-size: 14px;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out;
}

.btn-voltar:hover,
.btn-imprimir:hover {
  background-color: #7aa314;
}

.mensagem-verde a:hover {
  text-decoration: underline !important;
}

 </style>


</head>
<body>
  <div class="container">

    <!-- Caminho de navegação -->
    <div class="breadcrumb">
      <a href="#" class="breadcrumb-link">Início</a> /
      <a href="#" class="breadcrumb-link">Habilitação</a> /
      <a href="#" class="breadcrumb-link">Consulta Autenticidade CNH</a> /
      Consultar Prontuário na CNH
    </div>

    <!-- Cabeçalho com logo e textos -->
    <div class="header-box">
      <img src="https://i.ibb.co/b59kxzkT/image.png" alt="Logo Institucional">
      <div class="header-text">
        <div class="title">CONSULTA AUTENTICIDADE CNH</div>
        <div class="subtitle">EXIBIR DADOS AUTENTICIDADE</div>
      </div>
    </div>

    <br><br><br>

    <!-- Barra de progresso -->
    <div class="progress-bar">
      <div class="progress-step">
        <span class="step-label">Informar Dados</span>
        <div class="progress-circle"><div class="inner-dot"></div></div>
      </div>
      <div class="progress-line"></div>
      <div class="progress-step">
        <span class="step-label">Exibir Autenticidade Documento</span>
        <div class="progress-circle"><div class="inner-dot"></div></div>
      </div>
    </div>

    <hr class="section-divider">

    <!-- Conteúdo principal: foto + dados -->
    <div class="content">
      <div class="photo">
        <div class="foto-container">
          <img src="{{ dados.foto }}?v={{ chave_qr }}" alt="Foto CNH" style="width:180px;">



          <h5>Foto Original - Detran</h5>
        </div>
      </div>

      <!-- Tabela com os dados da CNH -->
      <table class="info-table">
<tr><td class="label">Nome:</td><td class="value">{{ dados.nome }}</td></tr>
<tr><td class="label">CPF:</td><td class="value">{{ dados.cpf }}</td></tr>
<tr><td class="label">RG:</td><td class="value">{{ dados.rg }}</td></tr>
<tr><td class="label">Data de Nascimento:</td><td class="value">{{ dados.data_nascimento }}</td></tr>
<tr><td class="label">Nº de registro da CNH:</td><td class="value">{{ dados.registro_cnh }}</td></tr>
<tr><td class="label">Categoria:</td><td class="value">{{ dados.categoria }}</td></tr>
<tr><td class="label">Renach:</td><td class="value">{{ dados.renach }}</td></tr>
<tr><td class="label">Nº do espelho da CNH:</td><td class="value">{{ dados.espelho }}</td></tr>
<tr><td class="label">Cidade / UF:</td><td class="value">{{ dados.cidade_uf }}</td></tr>
<tr><td class="label">Data da Emissão:</td><td class="value">{{ dados.data_emissao }}</td></tr>

      </table>
    </div>


      <!-- Mensagem verde -->
<div class="mensagem-verde">
  Os dados informados são os mesmos que constam na base do 
  <a href="resultado.html" target="_blank" style="color: #007BFF; text-decoration: none;">Detran</a>
  <i class="fas fa-check-circle" style="color:#61AF2B; margin-left: 2px;"></i>
</div>


<!-- Observação explicativa -->
<div class="observacao">
  <strong>Observação:</strong>A foto apresentada é a mesma impressa na habilitação ou é uma foto mais recente, caso o cidadão já tenha coletado uma nova foto no Detran, para um novo servico. Exemplo: ele pode ter iniciado um processo de adição ou mudança de categoria, após a emissão da CNH acima.
</div>
<br>
<br>


<!-- QR Code centralizado -->
<div class="qr-container">
  <p class="chave-consulta">Chave de registro de consulta <span id="chaveConsulta"></span></p>
  <img src="https://i.ibb.co/PBDVdk7/qrdisp.png" alt="QR Code da CNH">
</div>

<br>
<br>

<!-- Mensagem amarela -->
<div class="mensagem-amarela">
  Utilize seu celular e scaneie o <strong>QRCODE</strong> para realizar o download do aplicativo <strong>Carteira Digital</strong> para consultar sua CNH Digital.
</div>

<!-- Data e hora da consulta -->
<div class="data-consulta">
 <strong> Data e Hora da Consulta:<span id="dataHoraConsulta"></strong> </span>
</div>


<!-- Botões -->
<div class="botoes-final">
  <button class="btn-voltar">Voltar</button>
  <button class="btn-imprimir">Imprimir</button>
</div>

  </div>




<script>
  function gerarChaveConsulta(tamanho) {
    const caracteres = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let chave = '';
    for (let i = 0; i < tamanho; i++) {
      const aleatorio = Math.floor(Math.random() * caracteres.length);
      chave += caracteres.charAt(aleatorio);
    }
    return `{${chave}}`;
  }

  document.getElementById("chaveConsulta").textContent = gerarChaveConsulta(44);

  const agora = new Date();

  const dia = String(agora.getDate()).padStart(2, '0');
  const mes = String(agora.getMonth() + 1).padStart(2, '0'); // Janeiro = 0
  const ano = agora.getFullYear();

  const horas = String(agora.getHours()).padStart(2, '0');
  const minutos = String(agora.getMinutes()).padStart(2, '0');
  const segundos = String(agora.getSeconds()).padStart(2, '0');

  const dataHoraFormatada = `${dia}/${mes}/${ano} ${horas}:${minutos}:${segundos}`;

  document.getElementById("dataHoraConsulta").textContent = dataHoraFormatada;
</script>


</body>
</html>
